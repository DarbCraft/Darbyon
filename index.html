<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DårbCRÅFT</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
            background-size: cover;
            background-position: center;
            background-repeat: no-repeat;
            background-attachment: fixed;
            color: #fff; /* Optional: Makes the text white for better readability on dark backgrounds */
        }
        nav a {
            margin: 10px;
            text-decoration: none;
            color: #fff; /* Makes the navigation links white */
        }
        nav a:link, nav a:visited {
            color: #fff; /* Ensures visited links remain white */
        }
        input, button {
            display: block;
            margin: 10px 0;
        }
        form {
            background-color: rgba(0, 0, 0, 0.5); /* Optional: Adds a semi-transparent background to the form for better readability */
            padding: 20px;
            border-radius: 10px;
        }
        table {
            border-collapse: collapse;
            margin: 20px 0;
            width: 100%; /* Ensure table takes up full width */
        }
        th, td {
            border: 1px solid #ccc;
            padding: 10px;
            text-align: left;
            background-color: #555;
            color: #fff;
        }
        th {
            background-color: #444; /* Slightly different color for the header */
        }
        .update-form {
            display: flex;
            gap: 5px;
            justify-content: flex-start;
            margin-bottom: 10px;
        }
    </style>
</head>
<body>
    <h1>DårbCRÅFT</h1>
    <nav>
        <a href="index.html">Home</a>
        <a href="settings.html">Settings</a>
        <a href="update-values.html">Update Values</a>
    </nav>
    <h2>Player Table</h2>
    <table id="playerTable">
        <thead>
            <tr>
                <th>Name</th>
                <th>Type</th>
                <th>Level</th>
                <th>XP</th>
                <th>AP</th>
                <th>HP</th>
            </tr>
        </thead>
        <tbody></tbody>
    </table>

    <script>
        function setBackgroundBasedOnTime() {
            const hour = new Date().getHours();
            let backgroundUrl = '';

            if (hour >= 6 && hour < 9) {
                backgroundUrl = 'https://github.com/DarbCraft/Darbyon/blob/main/Images/Dawn%201.jpeg?raw=true';
            } else if (hour >= 9 && hour < 10) {
                backgroundUrl = 'https://github.com/DarbCraft/Darbyon/blob/main/Images/Dawn%202.jpeg?raw=true'; 
            } else if (hour >= 10 && hour < 14) {
                backgroundUrl = 'https://github.com/DarbCraft/Darbyon/blob/main/Images/Day%201.jpeg?raw=true';
            } else {
                backgroundUrl = 'https://github.com/DarbCraft/Darbyon/blob/main/Images/Day%203.jpeg?raw=true'; 
            }

            document.body.style.backgroundImage = `url('${backgroundUrl}')`;
        }

        // Function to populate the player table
        function populatePlayerTable() {
            const tbody = document.querySelector('#playerTable tbody');
            tbody.innerHTML = ''; // Clear the table body

            const players = JSON.parse(localStorage.getItem('characters')) || [];
            players.forEach(player => {
                const row = document.createElement('tr');

                const nameCell = document.createElement('td');
                nameCell.textContent = player.name;
                row.appendChild(nameCell);

                const typeCell = document.createElement('td');
                typeCell.textContent = player.type; 
                row.appendChild(typeCell);

                const levelCell = document.createElement('td');
                levelCell.textContent = getLevel(player.xp);
                row.appendChild(levelCell);

                const xpCell = document.createElement('td');
                xpCell.textContent = player.xp;
                row.appendChild(xpCell);

                const apCell = document.createElement('td');
                apCell.textContent = player.ap;
                row.appendChild(apCell);

                const hpCell = document.createElement('td');
                hpCell.textContent = player.hp;
                row.appendChild(hpCell);

                tbody.appendChild(row);
            });
        }

        function getLevel(xp) {
            if (xp < 5000) return 1;
            if (xp < 10000) return 2;
            if (xp < 15000) return 3;
            if (xp < 20000) return 4;
            if (xp < 25000) return 5;
            if (xp < 30000) return 6;
            return 7; 
        }

        window.onload = function() {
            populatePlayerTable();
            setBackgroundBasedOnTime();
        };
    </script>
</body>
</html>

