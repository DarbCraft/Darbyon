<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Settings</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
        }
        nav {
            margin-bottom: 20px;
        }
        nav a {
            margin: 10px;
            text-decoration: none;
            color: #000;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
            background-color: rgba(192, 192, 192, 0.8);
        }
        th, td {
            border: 1px solid #ccc;
            padding: 10px;
            text-align: left;
        }
        th {
            background-color: #666;
            color: white;
        }
        tr:nth-child(even):not(:nth-child(1)) {
            background-color: rgba(255, 255, 255, 0.6);
        }
        tr:nth-child(odd) {
            background-color: rgba(211, 211, 211, 0.6);
        }
        form {
            display: flex;
            flex-direction: column;
            margin-bottom: 20px;
        }
        label, input, button {
            margin: 5px 0;
        }
        .full-width {
            width: 100%;
        }
        .btn-group {
            display: flex;
            justify-content: space-between;
        }
        .btn-group button {
            margin-left: 10px;
        }
    </style>
</head>
<body>
    <h1>Settings</h1>
    <nav>
        <a href="index.html">Home</a>
        <a href="update-values.html">Update Values</a>
        <a href="powers.html">Powers</a>
    </nav>

    <form id="addCharacterForm">
        <label for="charName">Character Name:</label>
        <input type="text" id="charName" name="charName">
        <label for="charType">Character Type:</label>
        <select id="charType" name="charType">
            <option value="Warrior">Warrior</option>
            <option value="Healer">Healer</option>
            <option value="Mage">Mage</option>
        </select>
        <button type="button" onclick="addCharacter()">Add Character</button>
    </form>

    <h2>Character List</h2>
    <table class="styled-table">
        <thead>
            <tr>
                <th>Name</th>
                <th>XP</th>
                <th>AP</th>
                <th>HP</th>
                <th>Actions</th>
            </tr>
        </thead>
        <tbody id="scoreboardTableBody"></tbody>
    </table>

    <h2>Create New Team</h2>
<form id="teamForm">
    <label for="teamName">Team Name:</label>
    <input type="text" id="teamName" name="teamName" required>
    <button type="submit">Add Team</button>
</form>

<h2>Teams List</h2>
<table id="teamsTable">
    <thead>
        <tr>
            <th>Team Name</th>
            <th>Members</th>
            <th>Actions</th>
        </tr>
    </thead>
    <tbody></tbody>
</table>


    <h2>Add Daily Message</h2>
    <form id="messageForm">
        <label for="messageName">Daily News Item:</label>
        <input type="text" id="messageName" name="messageName" required>

        <label for="messageDescription">Description:</label>
        <textarea id="messageDescription" name="messageDescription" required></textarea>

        <button type="submit">Add News Item</button>
    </form>

    <h2>Daily News</h2>
    <table id="messageTable">
        <thead>
            <tr>
                <th>Name</th>
                <th>Description</th>
                <th>Actions</th>
            </tr>
        </thead>
        <tbody></tbody>
    </table>
    <h2>Add New Power</h2>
    <form id="powerForm">
        <label for="powerName">Power Name:</label>
        <input type="text" id="powerName" name="powerName" required>

        <label for="powerXP">XP Change:</label>
        <input type="number" id="powerXP" name="powerXP" required>

        <label for="powerAP">AP Change:</label>
        <input type="number" id="powerAP" name="powerAP" required>

        <label for="powerHP">HP Change:</label>
        <input type="number" id="powerHP" name="powerHP" required>

        <label for="otherPlayerXP">Other Player XP Change:</label>
        <input type="number" id="otherPlayerXP" name="otherPlayerXP">

        <label for="otherPlayerAP">Other Player AP Change:</label>
        <input type="number" id="otherPlayerAP" name="otherPlayerAP">

        <label for="otherPlayerHP">Other Player HP Change:</label>
        <input type="number" id="otherPlayerHP" name="otherPlayerHP">

        <button type="submit">Add Power</button>
    </form>

    <h2>Powers List</h2>
    <table id="powersTable">
        <thead>
            <tr>
                <th>Name</th>
                <th>XP Change</th>
                <th>AP Change</th>
                <th>HP Change</th>
                <th>Other Player XP Change</th>
                <th>Other Player AP Change</th>
                <th>Other Player HP Change</th>
                <th>Actions</th>
            </tr>
        </thead>
        <tbody></tbody>
    </table>

    <script>
        function addCharacter() {
            const name = document.getElementById('charName').value;
            const type = document.getElementById('charType').value;
            let hp, ap;

            switch (type) {
                case 'Warrior':
                    hp = 10;
                    ap = 15;
                    break;
                case 'Healer':
                    hp = 8;
                    ap = 20;
                    break;
                case 'Mage':
                    hp = 6;
                    ap = 30;
                    break;
                default:
                    alert('Invalid character type!');
                    return;
            }

            const newCharacter = { name, type, xp: 0, ap, hp };
            let characters = JSON.parse(localStorage.getItem('characters')) || [];
            characters.push(newCharacter);
            localStorage.setItem('characters', JSON.stringify(characters));
            loadScoreboard();  // Update the table immediately
            document.getElementById('addCharacterForm').reset();
        }

        function loadScoreboard() {
            const tableBody = document.querySelector('#scoreboardTableBody');
            tableBody.innerHTML = '';
            const characters = JSON.parse(localStorage.getItem('characters')) || [];
            
            characters.forEach((char, index) => {
                const row = document.createElement('tr');

                const nameCell = document.createElement('td');
                nameCell.textContent = char.name;
                row.appendChild(nameCell);

                const xpCell = document.createElement('td');
                xpCell.textContent = char.xp;
                row.appendChild(xpCell);

                const apCell = document.createElement('td');
                apCell.textContent = char.ap;
                row.appendChild(apCell);

                const hpCell = document.createElement('td');
                hpCell.textContent = char.hp;
                row.appendChild(hpCell);

                // Add Actions cell
                const actionsCell = document.createElement('td');

                // Edit button
                const editButton = document.createElement('button');
                editButton.textContent = 'Edit';
                editButton.addEventListener('click', () => editCharacter(index));
                actionsCell.appendChild(editButton);

                // Delete button
                const deleteButton = document.createElement('button');
                deleteButton.textContent = 'Delete';
                deleteButton.addEventListener('click', () => deleteCharacter(index));
                actionsCell.appendChild(deleteButton);

                row.appendChild(actionsCell);
                tableBody.appendChild(row);
            });
        }

        function editCharacter(index) {
            const characters = JSON.parse(localStorage.getItem('characters')) || [];
            const char = characters[index];

            // Prompt user for new values
            const newName = prompt("Edit Character Name:", char.name);
            const newXP = prompt("Edit XP:", char.xp);
            const newAP = prompt("Edit AP:", char.ap);
            const newHP = prompt("Edit HP:", char.hp);

            // Update the character with new values if confirmed
            if (newName !== null && newXP !== null && newAP !== null && newHP !== null) {
                char.name = newName.trim();
                char.xp = parseInt(newXP);
                char.ap = parseInt(newAP);
                char.hp = parseInt(newHP);
                characters[index] = char;
                localStorage.setItem('characters', JSON.stringify(characters));
                loadScoreboard();
            }
        }

        function deleteCharacter(index) {
            const confirmation = confirm("Are you sure you want to delete this character?");
            if (confirmation) {
                let characters = JSON.parse(localStorage.getItem('characters')) || [];
                characters.splice(index, 1);
                localStorage.setItem('characters', JSON.stringify(characters));
                loadScoreboard();
            }
        }

        function loadMessages() {
            const messageTableBody = document.querySelector('#messageTable tbody');
            messageTableBody.innerHTML = '';

            const messages = JSON.parse(localStorage.getItem('messages')) || [];

            messages.forEach((msg, index) => {
                const row = document.createElement('tr');
                const nameCell = document.createElement('td');
                const descriptionCell = document.createElement('td');
                const actionsCell = document.createElement('td');

                // Style the name in bold and the description in a larger font
                nameCell.innerHTML = `<strong>${msg.name}</strong>`;
                descriptionCell.innerHTML = `<span style="font-size: larger;">${msg.description}</span>`;

                const deleteButton = document.createElement('button');
                deleteButton.textContent = 'Delete';
                deleteButton.onclick = () => deleteMessage(index);

                const editButton = document.createElement('button');
                editButton.textContent = 'Edit';
                editButton.onclick = () => editMessage(index);

                const btnGroup = document.createElement('div');
                btnGroup.classList.add('btn-group');
                btnGroup.appendChild(editButton);
                btnGroup.appendChild(deleteButton);

                actionsCell.appendChild(btnGroup);

                row.appendChild(nameCell);
                row.appendChild(descriptionCell);
                row.appendChild(actionsCell);

                messageTableBody.appendChild(row);
            });
        }

        function deleteMessage(index) {
            if (confirm('Are you sure you want to delete this news item?')) {
                let messages = JSON.parse(localStorage.getItem('messages')) || [];
                messages.splice(index, 1);
                localStorage.setItem('messages', JSON.stringify(messages));
                loadMessages();
            }
        }

        function editMessage(index) {
            let messages = JSON.parse(localStorage.getItem('messages')) || [];
            const msg = messages[index];

            const newName = prompt('Edit Name:', msg.name);
            const newDescription = prompt('Edit Description:', msg.description);

            if (newName !== null && newDescription !== null) {
                messages[index] = { name: newName, description: newDescription };
                localStorage.setItem('messages', JSON.stringify(messages));
                loadMessages();
            }
        }

        document.getElementById('messageForm').addEventListener('submit', (event) => {
            event.preventDefault();
            const name = document.getElementById('messageName').value;
            const description = document.getElementById('messageDescription').value;

            const newMessage = { name, description };
            let messages = JSON.parse(localStorage.getItem('messages')) || [];
            messages.push(newMessage);
            localStorage.setItem('messages', JSON.stringify(messages));
            loadMessages();
            document.getElementById('messageForm').reset();
        });

        // Load data on page load
        window.onload = () => {
            loadScoreboard();
            loadMessages();
        };
         // Load powers from localStorage and display in the table
        function loadPowers() {
            const powersTableBody = document.querySelector('#powersTable tbody');
            powersTableBody.innerHTML = '';

            const powers = JSON.parse(localStorage.getItem('powers')) || [];

            powers.forEach((power, index) => {
                const row = document.createElement('tr');

                const nameCell = document.createElement('td');
                nameCell.textContent = power.name;
                row.appendChild(nameCell);

                const xpCell = document.createElement('td');
                xpCell.textContent = power.xp;
                row.appendChild(xpCell);

                const apCell = document.createElement('td');
                apCell.textContent = power.ap;
                row.appendChild(apCell);

                const hpCell = document.createElement('td');
                hpCell.textContent = power.hp;
                row.appendChild(hpCell);

                const otherXPCell = document.createElement('td');
                otherXPCell.textContent = power.otherPlayerXP || 0;
                row.appendChild(otherXPCell);

                const otherAPCell = document.createElement('td');
                otherAPCell.textContent = power.otherPlayerAP || 0;
                row.appendChild(otherAPCell);

                const otherHPCell = document.createElement('td');
                otherHPCell.textContent = power.otherPlayerHP || 0;
                row.appendChild(otherHPCell);

                const actionsCell = document.createElement('td');

                // Edit and delete buttons
                const editButton = document.createElement('button');
                editButton.textContent = 'Edit';
                editButton.addEventListener('click', () => editPower(index));
                actionsCell.appendChild(editButton);

                const deleteButton = document.createElement('button');
                deleteButton.textContent = 'Delete';
                deleteButton.addEventListener('click', () => deletePower(index));
                actionsCell.appendChild(deleteButton);

                row.appendChild(actionsCell);

                powersTableBody.appendChild(row);
            });
        }

        function editPower(index) {
            const powers = JSON.parse(localStorage.getItem('powers')) || [];
            const power = powers[index];

            const newName = prompt("Edit Power Name:", power.name);
            const newXP = prompt("Edit XP Change:", power.xp);
            const newAP = prompt("Edit AP Change:", power.ap);
            const newHP = prompt("Edit HP Change:", power.hp);
            const newOtherXP = prompt("Edit Other Player XP Change:", power.otherPlayerXP || 0);
            const newOtherAP = prompt("Edit Other Player AP Change:", power.otherPlayerAP || 0);
            const newOtherHP = prompt("Edit Other Player HP Change:", power.otherPlayerHP || 0);

            if (newName !== null && newXP !== null && newAP !== null && newHP !== null) {
                power.name = newName.trim();
                power.xp = parseInt(newXP);
                power.ap = parseInt(newAP);
                power.hp = parseInt(newHP);
                power.otherPlayerXP = parseInt(newOtherXP);
                power.otherPlayerAP = parseInt(newOtherAP);
                power.otherPlayerHP = parseInt(newOtherHP);
                powers[index] = power;
                localStorage.setItem('powers', JSON.stringify(powers));
                loadPowers();
            }
        }

        function deletePower(index) {
            const confirmation = confirm("Are you sure you want to delete this power?");
            if (confirmation) {
                let powers = JSON.parse(localStorage.getItem('powers')) || [];
                powers.splice(index, 1);
                localStorage.setItem('powers', JSON.stringify(powers));
                loadPowers();
            }
        }

        document.getElementById('powerForm').addEventListener('submit', function(e) {
            e.preventDefault();

            const name = document.getElementById('powerName').value.trim();
            const xp = parseInt(document.getElementById('powerXP').value);
            const ap = parseInt(document.getElementById('powerAP').value);
            const hp = parseInt(document.getElementById('powerHP').value);
            const otherXP = parseInt(document.getElementById('otherPlayerXP').value || 0);
            const otherAP = parseInt(document.getElementById('otherPlayerAP').value || 0);
            const otherHP = parseInt(document.getElementById('otherPlayerHP').value || 0);

            if (name && !isNaN(xp) && !isNaN(ap) && !isNaN(hp)) {
                const newPower = { name, xp, ap, hp, otherPlayerXP: otherXP, otherPlayerAP: otherAP, otherPlayerHP: otherHP };

                const powers = JSON.parse(localStorage.getItem('powers')) || [];
                powers.push(newPower);
                localStorage.setItem('powers', JSON.stringify(powers));

                document.getElementById('powerForm').reset();
                loadPowers();
            }
            function loadTeams() {
    const teamsTableBody = document.querySelector('#teamsTable tbody');
    teamsTableBody.innerHTML = '';
    const teams = JSON.parse(localStorage.getItem('teams')) || [];
    
    teams.forEach((team, index) => {
        const row = document.createElement('tr');

        const nameCell = document.createElement('td');
        nameCell.textContent = team.name;
        row.appendChild(nameCell);

        const membersCell = document.createElement('td');
        membersCell.textContent = team.members.join(', ');
        row.appendChild(membersCell);

        const actionsCell = document.createElement('td');
        
        // Delete button
        const deleteButton = document.createElement('button');
        deleteButton.textContent = 'Delete';
        deleteButton.addEventListener('click', () => deleteTeam(index));
        actionsCell.appendChild(deleteButton);

        row.appendChild(actionsCell);
        teamsTableBody.appendChild(row);
    });
}

function deleteTeam(index) {
    const confirmation = confirm("Are you sure you want to delete this team?");
    if (confirmation) {
        let teams = JSON.parse(localStorage.getItem('teams')) || [];
        teams.splice(index, 1);
        localStorage.setItem('teams', JSON.stringify(teams));
        loadTeams();
    }
}

document.getElementById('teamForm').addEventListener('submit', (event) => {
    event.preventDefault();
    const name = document.getElementById('teamName').value;
    const newTeam = { name, members: [] };
    let teams = JSON.parse(localStorage.getItem('teams')) || [];
    teams.push(newTeam);
    localStorage.setItem('teams', JSON.stringify(teams));
    loadTeams();
    document.getElementById('teamForm').reset();
});

// Add this to window.onload to load teams when the page loads
window.onload = () => {
    loadScoreboard();
    loadMessages();
    loadTeams();
};
        });

        loadPowers();
    </script>
</body>
</html>
