<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Settings</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
        }
        h1 {
            text-align: center;
        }
        .message-table, .character-table {
            width: 100%;
            border-collapse: collapse;
            margin-bottom: 20px;
        }
        .message-table th, .message-table td, .character-table th, .character-table td {
            border: 1px solid #ccc;
            padding: 10px;
            text-align: left;
        }
        .message-table th, .character-table th {
            background-color: #f2f2f2;
        }
        .message-table {
            margin-top: 20px;
        }
        #addMessageForm {
            margin-bottom: 20px;
        }
        #addCharacterForm {
            margin-bottom: 20px;
        }
        button {
            margin: 5px;
        }
    </style>
</head>
<body>
    <h1>Settings</h1>
    
    <!-- Add Daily News Form -->
    <div id="addMessageForm">
        <h2>Add Daily News Message</h2>
        <form id="messageForm">
            <label for="messageName">Message Name:</label>
            <input type="text" id="messageName" required>
            <br>
            <label for="messageDescription">Message Description:</label>
            <textarea id="messageDescription" rows="4" required></textarea>
            <br>
            <button type="button" onclick="addMessage()">Add Message</button>
        </form>
    </div>

    <!-- Daily News Table -->
    <table class="message-table">
        <thead>
            <tr>
                <th>Message Name</th>
                <th>Description</th>
            </tr>
        </thead>
        <tbody id="messageTableBody">
            <!-- Daily news messages will be inserted here -->
        </tbody>
    </table>

    <!-- Add Character Form -->
    <div id="addCharacterForm">
        <h2>Add Character</h2>
        <form id="characterForm">
            <label for="characterName">Character Name:</label>
            <input type="text" id="characterName" required>
            <br>
            <label for="characterType">Character Type:</label>
            <select id="characterType" required>
                <option value="Mage">Mage</option>
                <option value="Warrior">Warrior</option>
                <option value="Healer">Healer</option>
            </select>
            <br>
            <button type="button" onclick="addCharacter()">Add Character</button>
        </form>
    </div>

    <!-- Character Table -->
    <table class="character-table">
        <thead>
            <tr>
                <th>Character Name</th>
                <th>Type</th>
                <th>XP</th>
                <th>AP</th>
                <th>HP</th>
                <th>Actions</th>
            </tr>
        </thead>
        <tbody id="characterTableBody">
            <!-- Characters will be inserted here -->
        </tbody>
    </table>

    <script>
    // Function to add a new daily news message
    function addMessage() {
        const name = document.getElementById('messageName').value;
        const description = document.getElementById('messageDescription').value;

        if (name && description) {
            let messages = JSON.parse(localStorage.getItem('messages')) || [];
            messages.push({ name, description });
            localStorage.setItem('messages', JSON.stringify(messages));
            displayMessages();
            document.getElementById('messageForm').reset();
        } else {
            alert('Please fill in both fields.');
        }
    }

    // Function to display messages in the table
    function displayMessages() {
        const messageTableBody = document.getElementById('messageTableBody');
        messageTableBody.innerHTML = '';

        const messages = JSON.parse(localStorage.getItem('messages')) || [];
        messages.forEach(message => {
            const row = document.createElement('tr');
            row.innerHTML = `
                <td>${message.name}</td>
                <td>${message.description}</td>
            `;
            messageTableBody.appendChild(row);
        });
    }

    // Function to add a new character
    function addCharacter() {
        const name = document.getElementById('characterName').value;
        const type = document.getElementById('characterType').value;

        if (name && type) {
            let characters = JSON.parse(localStorage.getItem('characters')) || [];
            characters.push({ name, type, xp: 0, ap: 0, hp: 0 });
            localStorage.setItem('characters', JSON.stringify(characters));
            displayCharacters();
            document.getElementById('characterForm').reset();
        } else {
            alert('Please fill in both fields.');
        }
    }

    // Function to display characters in the table
    function displayCharacters() {
        const characterTableBody = document.getElementById('characterTableBody');
        characterTableBody.innerHTML = '';

        const characters = JSON.parse(localStorage.getItem('characters')) || [];
        characters.forEach(character => {
            const row = document.createElement('tr');
            row.innerHTML = `
                <td>${character.name}</td>
                <td>${character.type}</td>
                <td>${character.xp}</td>
                <td>${character.ap}</td>
                <td>${character.hp}</td>
                <td>
                    <button onclick="editCharacter('${character.name}')">Edit</button>
                    <button onclick="removeCharacter('${character.name}')">Remove</button>
                </td>
            `;
            characterTableBody.appendChild(row);
        });
    }

    // Function to edit a character
    function editCharacter(name) {
        // Implement your edit character logic here
        alert('Edit character feature is not yet implemented.');
    }

    // Function to remove a character
    function removeCharacter(name) {
        let characters = JSON.parse(localStorage.getItem('characters')) || [];
        characters = characters.filter(character => character.name !== name);
        localStorage.setItem('characters', JSON.stringify(characters));
        displayCharacters();
    }

    // Populate tables on page load
    document.addEventListener('DOMContentLoaded', () => {
        displayMessages();
        displayCharacters();
    });
    </script>
</body>
</html>
